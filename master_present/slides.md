%Применение искусственных нейронных сетей для поиска клонов в исходном коде программ
%Арсений Зорин; 23541/3
%\today

# Что такое клон?

Участок исходного кода, который может встречаться более чем однажды (с внесенными изменениями или без), как внутри одной, так и нескольких программных сущностей

# Причины возникновения

- Повторное использование кода
- Выбранный подход к программированию
- Увеличение выгод обслуживания ПО
- Попытки преодоления различных ограничений
- Случайность

# Недостатки клонов

- Увеличение сложности поддержки и развития проекта 
- Увеличение размера проекта 
- Увеличение сложности внесения изменений
- Вероятность распространения ошибок

# Типы клонов

![clones](clones.png)

# Методы обнаружения клонов

- Анализ текста
- Анализ токенов
- Анализ синтаксических деревьев
- Анализ графов
- Анализ метрик
- Гибридные методы

# Использование нейронных сетей

![Usage](merge)

# Что такое РНC?

Вид нейронных сетей, где связи между элементами образуют направленную последовательность 

![RNN](rnn)

# Почему РНН

- Анализ контекста
- Задачи распознавания
- Задачи сходства
- Задачи обработки
- И т.д.

# Выбранная архитектура

![siam](siam)

# Этапы

![stages](struct)

# Выборка данных

![mutator](mut_stages)

# Sequence-to-sequence

![seq2seq](seq2seq)

# BigCloneBench

- 25 тыс проектов на Java
- 6.3 млн клоновых пар
- 262.5 тыс не клоновых пар

# Результаты «мутатора» 

| Methods | KLOC | Clones |  Rec | Prec |  F1  |    time   |
|:-------:+:----:+:------:+:----:+:----:+:----:+:---------:|
|   3951  |  195 |  1348  | 0.73 | 0.76 | 0.74 | 06:31 мин |
|   7954  |  679 |  4731  | 0.77 | 0.73 | 0.75 | 09:28 мин |
|  12573  | 2803 |  24385 | 0.75 | 0.73 | 0.74 | 14:44 мин |
|  20842  | 2947 |  32679 | 0.74 | 0.75 | 0.75 | 17:37 мин |

- Средняя точность: 74.5%
- Средняя скорость анализа: 14.35 метод/сек

# Результаты BigCloneBench

| Methods | KLOC | Clones |  Rec | Prec |  F1  |    time   |
|:-------:+:----:+:------:+:----:+:----:+:----:+:---------:|
|   4092  |  228 |  1697  | 0.94 | 0.97 | 0.95 | 04:42 мин |
|   8270  |  768 |  5453  | 0.88 | 0.94 | 0.91 | 06:55 мин |
|  10892  | 3192 |  32041 | 0.88 | 0.93 | 0.90 | 09:44 мин |
|  19711  | 2830 |  24797 | 0.90 | 0.76 | 0.82 | 14:43 мин |

- Средняя точность: 89.5%
- Средняя скорость анализа: 14.35 метод/сек

# Заключение

- Затрачиваемое время на анализ напрямую зависит от объема методов в анализируемой выборке
- Точность анализа при обучении на BigCloneBench выше, в отличии от обучении на «мутаторе»
- Данный подход можно считать целесообразным для использования

# Дальнейшее развитие

- Корректное обнаружение клонов IV типа
- Оптимизация работы прототипа
